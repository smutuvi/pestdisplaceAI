# FROM python:3.7-slim-buster
FROM tiangolo/uvicorn-gunicorn-starlette:python3.6

COPY requirements.txt /app/

RUN pip install -r /app/requirements.txt

# RUN pip install -t lib pillow

# Download ResNet50 model and cache in image
#RUN python -c "from keras.applications import ResNet50; ResNet50(weights='imagenet')"

COPY . /app/

WORKDIR /app/

# COPY ./models/ciat_image_model.pkl /app/

CMD ["python", "/app/main.py"]

# CMD ["flask", "run", "--host", "0.0.0.0"]
# CMD ["python", "/app/app.py"]

EXPOSE 5000

# 0772 831574 --- nancy wanjiru
